Diff is too big to render. To view, check out this pull request locally.
